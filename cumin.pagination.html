<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>cumin.pagination documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Cumin 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cumin</span></div></div></li><li class="depth-2 branch"><a href="cumin.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 current"><a href="cumin.pagination.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pagination</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="cumin.pagination.html#var-paginate"><div class="inner"><span>paginate</span></div></a></li><li class="depth-1"><a href="cumin.pagination.html#var-paginated.3F"><div class="inner"><span>paginated?</span></div></a></li><li class="depth-1"><a href="cumin.pagination.html#var-per-page"><div class="inner"><span>per-page</span></div></a></li><li class="depth-1"><a href="cumin.pagination.html#var-per-page-default"><div class="inner"><span>per-page-default</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">cumin.pagination</h2><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-paginate"><h3>paginate</h3><div class="usage"><code>(paginate query &amp; {:keys [page per-page meta?], :or {meta? true, per-page (get-in query [:ent :cumin.pagination/per-page] per-page-default)}})</code></div><div class="doc"><div class="markdown"><p>Paginate a Korma query</p><p>Options:</p>
<ul>
  <li><code>:page</code> - page of query results</li>
  <li><code>:per-page</code> - number of records to select</li>
  <li><code>:meta?</code> - false to prevent post-query from firing  and associng metadata map (default true)</li>
</ul><p>Metadata key <code>:page</code> contains:</p>
<ul>
  <li><code>:total</code> - total number of records for all pages</li>
  <li><code>:per</code> - per page argument</li>
  <li><code>:curr</code> - current page number</li>
  <li><code>:prev</code> - previous page number, nil if no previous page</li>
  <li><code>:next</code> - next page number, nil if no next page</li>
  <li><code>:last</code> - last page number</li>
</ul>
<pre><code>(select person
  (where {:age [&gt; 30]})
  (paginate :page 3 :per-page 25))
</code></pre></div></div><div class="src-link"><a href="http://github.com/kgann/cumin/tree/master/src/cumin/pagination.clj#L71">view source</a></div></div><div class="public anchor" id="var-paginated.3F"><h3>paginated?</h3><div class="usage"><code>(paginated? query)</code></div><div class="doc"><div class="markdown"><p>Return true if Korma query map has been paginated</p></div></div><div class="src-link"><a href="http://github.com/kgann/cumin/tree/master/src/cumin/pagination.clj#L66">view source</a></div></div><div class="public anchor" id="var-per-page"><h3>per-page</h3><div class="usage"><code>(per-page ent i)</code></div><div class="doc"><div class="markdown"><p>Assoc <code>per-page</code> default into entity map</p><p><code>
 (defentity person
   (table :people)
   (per-page 15))
</code></p></div></div><div class="src-link"><a href="http://github.com/kgann/cumin/tree/master/src/cumin/pagination.clj#L54">view source</a></div></div><div class="public anchor" id="var-per-page-default"><h3>per-page-default</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/kgann/cumin/tree/master/src/cumin/pagination.clj#L5">view source</a></div></div></div></body></html>